<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - RadiantOptimizer</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/dashboard.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Custom Modal -->
    <div class="custom-modal-overlay" id="customModal">
        <div class="custom-modal">
            <div class="custom-modal-header">
                <h3 id="modalTitle">Notification</h3>
                <button class="custom-modal-close" onclick="closeCustomModal()">&times;</button>
            </div>
            <div class="custom-modal-body">
                <p id="modalMessage"></p>
            </div>
            <div class="custom-modal-footer">
                <button class="custom-modal-btn" onclick="closeCustomModal()">OK</button>
            </div>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-content">
                <div class="logo" onclick="location.href='index.html'">
                    <img src="images/logo.jpg" alt="RadiantOptimizer">
                    <span>RADIANT OPTIMIZER</span>
                </div>
                <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle menu">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
                <div class="nav-user" id="navMenu">
                    <button class="home-button" onclick="location.href='index.html'">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                            <polyline points="9 22 9 12 15 12 15 22"></polyline>
                        </svg>
                        Home
                    </button>
                    <button class="home-button" onclick="location.href='news.html'" style="position: relative;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
                        </svg>
                        News
                        <span id="newsNotificationBadge" style="display: none; position: absolute; top: -5px; right: -5px; background: linear-gradient(135deg, #ff6b6b, #ff4757); color: white; border-radius: 50%; width: 20px; height: 20px; font-size: 0.7rem; font-weight: 700; display: flex; align-items: center; justify-content: center;"></span>
                    </button>
                    <span class="user-name" id="userName">Loading...</span>
                    <button class="logout-button" id="logoutBtn">Logout</button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Dashboard Content -->
    <div class="dashboard-wrapper">
        <div class="container">
            <!-- Welcome Section -->
            <div class="dashboard-header">
                <h1 class="dashboard-title">Welcome back, <span id="userNameDisplay">User</span>!</h1>
                <p class="dashboard-subtitle">Manage your RadiantOptimizer account and license keys</p>
            </div>

            <!-- Stats Cards -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">üîë</div>
                    <div class="stat-info">
                        <h3>Active Licenses</h3>
                        <p class="stat-number" id="activeLicenses">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">üì¶</div>
                    <div class="stat-info">
                        <h3>Total Purchases</h3>
                        <p class="stat-number" id="totalPurchases">0</p>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">‚ö°</div>
                    <div class="stat-info">
                        <h3>Account Status</h3>
                        <p class="stat-number">Active</p>
                    </div>
                </div>
            </div>

            <!-- License Keys Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>Your License Keys</h2>
                    <button class="purchase-button" onclick="purchaseRadiantOptimizer()">Purchase New</button>
                </div>
                
                <div class="license-grid" id="licenseGrid">
                    <!-- License keys will be loaded here -->
                    <div class="license-card empty-state">
                        <div class="empty-icon">üîê</div>
                        <h3>No License Keys Yet</h3>
                        <p>Purchase RadiantOptimizer to get your license key</p>
                        <button class="btn-primary" onclick="purchaseRadiantOptimizer()">Get Started</button>
                    </div>
                </div>
            </div>

            <!-- Purchase History Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>Purchase History</h2>
                </div>
                
                <div class="purchase-history" id="purchaseHistory">
                    <div class="empty-state">
                        <div class="empty-icon">üìã</div>
                        <p>No purchase history yet</p>
                    </div>
                </div>
            </div>

            <!-- Account Settings Section -->
            <div class="dashboard-section">
                <div class="section-header">
                    <h2>Account Settings</h2>
                </div>
                
                <div class="settings-grid">
                    <div class="setting-card">
                        <h3>Email Address</h3>
                        <p id="userEmail">Loading...</p>
                    </div>
                    <div class="setting-card">
                        <h3>Username</h3>
                        <p id="userUsername">Loading...</p>
                    </div>
                    <div class="setting-card">
                        <h3>Member Since</h3>
                        <p id="memberSince">Loading...</p>
                    </div>
                </div>
            </div>

            <!-- Support Section -->
            <div class="dashboard-section">
                <div class="support-banner">
                    <div class="support-content">
                        <h3>Need Help?</h3>
                        <p>Join our Discord community for support and updates</p>
                    </div>
                    <a href="https://discord.gg/nFzZRjDHGF" target="_blank" class="support-button">
                        Join Discord
                    </a>
                </div>
            </div>

            <!-- FPS Boost Info -->
            <div class="dashboard-section">
                <div class="fps-info-box">
                    <div class="fps-info-icon">‚ö°</div>
                    <p class="fps-info-text">
                        If you're looking to get a 40 to 100+ FPS boost, overclocking RAM, CPU and GPU along with upgrading PC parts will give you the biggest FPS boost. Windows based tweaks can only provide so much FPS boost.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Stripe.js -->
    <script src="https://js.stripe.com/v3/"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script>
    
    <script src="js/auth.js"></script>
    <script src="js/stripe-checkout.js"></script>
    <script src="js/main.js"></script>
    <script src="js/dashboard.js"></script>
</body>
</html>
